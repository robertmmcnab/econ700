library(kableExtra, quietly = TRUE)
library(tidyquant, quietly = TRUE)
rm(list = ls())
library(dplyr)
library(ggplot2)
library(tidyverse)
library(tidyquant)
library(scales)
df_3 <- tq_get(c('UNRATE', 'CPIAUCSL'),
get  = 'economic.data',
from = '1969-01-01') %>%
pivot_wider(names_from = symbol, values_from = price) %>%
mutate(inflation = (CPIAUCSL - lag(CPIAUCSL, 12)) / lag(CPIAUCSL, 12),
UNRATE    = UNRATE/100) %>%
filter(!is.na(inflation))
ggplot(data = df_3,
aes(x = inflation,
y = UNRATE)) +
geom_point() +
scale_x_continuous(labels = scales::percent) +
scale_y_continuous(labels = scales::percent) +
theme_classic() +
labs(x = "Inflation (YoY %)",
y = "Unemployment Rate (%)",
title = "Scatterplot of Inflation and Unemployment")
df_4 <- df_3 %>%
summarize(mean_inf = mean(inflation),
mean_unr = mean(UNRATE),
cov_i_u  = cov(inflation, UNRATE))
kable(df_4,
col.names = c('Mean Inflation',
'Mean Unemployment',
'Covariance Inflation and Unemployment'),
align     = 'c') %>%
kable_classic()
rm(list = ls())
library(dplyr)
library(ggplot2)
library(tidyverse)
library(tidyquant)
library(scales)
df_5 <- tq_get(c('UNRATE', 'CPIAUCSL'),
get  = 'economic.data',
from = '1969-01-01') %>%
pivot_wider(names_from = symbol, values_from = price) %>%
mutate(inflation = (CPIAUCSL - lag(CPIAUCSL, 12)) / lag(CPIAUCSL, 12),
unrate    = UNRATE/100) %>%
filter(!is.na(inflation)) %>%
mutate(unrate_2 = unrate *100,
inflation_2 = inflation * 1000) %>%
summarize(cov_i_u     = cov(inflation, unrate),
cov_i2_u    = cov(inflation_2, unrate),
cov_i_u2    = cov(inflation, unrate_2),
cor_i_u     = cor(inflation, unrate),
cor_i2_u    = cor(inflation_2, unrate),
cor_i_u2    = cor(inflation, unrate_2),
cor_i2_u2   = cor(inflation_2, unrate_2))
kable(df_5,
align = 'c',
digits = 3,
col.names = c('COV(Inf, Unemp)', 'COV(Inf2, Unemp)',
'COV(Inf, Unemp2)', 'COR(Inf,Unemp)',
'COR(Inf2, Unemp)', 'COR(Inf, Unemp2)',
'COR(Inf2, Unemp2)'))
library(dplyr, quietly = TRUE)
library(ggplot2, quietly = TRUE)
library(kableExtra, quietly = TRUE)
library(tidyquant, quietly = TRUE)
rm(list = ls())
library(dplyr)
library(kableExtra)
n = 10
x = 7
p = 0.95
fx <- tibble(pmf <- dbinom(x, n, p),
cdf <- pbinom(x, n, p),
cdf_a <- dbinom(0, 10, 0.95) + dbinom(1, 10, 0.95) +
dbinom(2, 10, 0.95) + dbinom(3, 10, 0.95) +
dbinom(4, 10, 0.95) + dbinom(5, 10, 0.95) +
dbinom(6, 10, 0.95) + dbinom(7, 10, 0.95))
kable(fx,
align       = "c",
digits      = 4,
caption     = "N = 10 and p = 0.95",
col.names   = c("PMF(X = x) ", "CDF(X <= x)", "CDF(X <= x)")) %>%
kable_styling(font_size = 14,
full_width = TRUE)
library(dplyr, quietly = TRUE)
library(ggplot2, quietly = TRUE)
library(kableExtra, quietly = TRUE)
library(tidyquant, quietly = TRUE)
rm(list = ls())
library(dplyr)
library(kableExtra)
# mu_60 = 10 per 60 seconds
# mu_15 = 2.5 per 15 second
poissons <- tibble(p_x0_1min <- dpois(0, 10),
p_x12_1min <- ppois(12, 10),
p_xle3_1min <- ppois(3, 10),
p_x0_15sec <- dpois(0, 2.5),
p_xge1_15sec <- 1-dpois(0, 2.5))
kable(poissons,
align       = "ccccc",
format.args = list(big.mark = ",", scientific = FALSE),
caption     = "Poisson Distribution Example",
col.names   = c("P(x = 0, 1 min)",
"P(x <= 12, 1 min)",
"P(x <= 3, 1 min)",
"P(x=0, 15 sec)",
"P(x>0, 15 sec)")) %>%
kable_styling(font_size = 14)
library(dplyr, quietly = TRUE)
library(ggplot2, quietly = TRUE)
library(kableExtra, quietly = TRUE)
library(tidyquant, quietly = TRUE)
qexp(0.86, lambda, lower.tail = FALSE))
qexp(0.86, lambda, lower.tail = FALSE)
library(dplyr, quietly = TRUE)
library(ggplot2, quietly = TRUE)
library(kableExtra, quietly = TRUE)
library(tidyquant, quietly = TRUE)
rm(list = ls())
set.seed(123)
library(dplyr)
library(kableExtra)
mu = 15
lambda = 1/mu
exp_1 <- tibble(q1 <- pexp(6, lambda, lower.tail = TRUE),
q2 <- pexp(20, lambda, lower.tail = FALSE),
q3 <- pexp(18, lambda, lower.tail = TRUE) -
pexp(12, lambda, lower.tail = TRUE),
q4 <- qexp(0.2, lambda, lower.tail = TRUE),
q5 <- qexp(0.86, lambda, lower.tail = FALSE))
kable(exp_1,
align     = 'c',
digits    = 3,
caption   = 'Exponential Distribution Example',
col.names = c('P(X < 6)',
'P(X > 20)',
'P(12 < X < 18)',
'P(20)',
'P(85)')) %>%
kable_styling(font_size = 12)
qexp(0.86, lambda, lower.tail = FALSE))
qexp(0.86, lambda, lower.tail = FALSE)
1-qexp(0.85, lambda)
qexp(0.85, lambda)
qexp(0.2, lambda)
rm(list = ls())
set.seed(123)
library(dplyr)
library(kableExtra)
mu = 15
lambda = 1/mu
exp_1 <- tibble(q1 <- pexp(6, lambda, lower.tail = TRUE),
q2 <- pexp(20, lambda, lower.tail = FALSE),
q3 <- pexp(18, lambda, lower.tail = TRUE) -
pexp(12, lambda, lower.tail = TRUE),
q4 <- qexp(0.2, lambda, lower.tail = TRUE),
q5 <- qexp(0.85, lambda, lower.tail = FALSE))
kable(exp_1,
align     = 'c',
digits    = 3,
caption   = 'Exponential Distribution Example',
col.names = c('P(X < 6)',
'P(X > 20)',
'P(12 < X < 18)',
'P(20)',
'P(85)')) %>%
kable_styling(font_size = 12)
rm(list = ls())
set.seed(123)
library(dplyr)
library(kableExtra)
mu = 15
lambda = 1/mu
exp_1 <- tibble(q1 <- pexp(6, lambda, lower.tail = TRUE),
q2 <- pexp(20, lambda, lower.tail = FALSE),
q3 <- pexp(18, lambda, lower.tail = TRUE) -
pexp(12, lambda, lower.tail = TRUE),
q4 <- qexp(0.2, lambda, lower.tail = TRUE),
q5 <- qexp(0.15, lambda, lower.tail = FALSE))
kable(exp_1,
align     = 'c',
digits    = 3,
caption   = 'Exponential Distribution Example',
col.names = c('P(X < 6)',
'P(X > 20)',
'P(12 < X < 18)',
'P(20)',
'P(85)')) %>%
kable_styling(font_size = 12)
quarto::quarto_render()
quarto::quarto_render()
library(dplyr, quietly = TRUE)
library(ggplot2, quietly = TRUE)
library(kableExtra, quietly = TRUE)
library(lubridate, quietly = TRUE)
library(tidyquant, quietly = TRUE)
UNRATE <- tq_get(c("LNS14000003",
"LNS14000006",
"LNS14000009"),
get  = "economic.data",
from = "1939-01-01" ) %>%
mutate(value = price/100)  %>%
filter(date > ymd("2023-01-01")) %>%
mutate(race = ifelse(symbol == "LNS14000003", "White",
ifelse(symbol == "LNS14000006", "Black or African American",
ifelse(symbol == "LNS14000009", "Hispanic", "NA"))))
chartdate <- UNRATE %>%
mutate(month_mindate = lubridate::month(min(date), label = TRUE, abbr = FALSE),
year_mindate  = lubridate::year(min(date)),
month_maxdate = lubridate::month(max(date), label = TRUE, abbr = FALSE),
year_maxdate  = lubridate::year(max(date))) %>%
filter(date == max(date)) %>%
mutate(title = paste0("Unemployment Rate, United States, ", month_mindate," ", year_mindate, " - ", month_maxdate," ", year_maxdate))
ggplot(data = UNRATE,
aes(x = date,
y = value,
group = symbol,
fill = race)) +
geom_bar(position="dodge", stat="identity") +
scale_color_discrete(name = "symbol",
breaks = c("LNS14000003", "LNS14000006", "LNS14000009"),
labels = c("White", "Black", "Hispanic")) +
scale_y_continuous(labels=scales::percent_format(a=1),
limits = c(0, 0.1)) +
facet_wrap(~race) +
theme_minimal()+
theme(legend.position="bottom",
legend.title = element_blank(),
legend.text = element_text(size = 10),
legend.box.margin = margin(c(-10,-10,0,-10)),
plot.caption=element_text(hjust=0),
plot.subtitle=element_text(size=12,face="italic",color="darkgray"),
plot.title=element_text(size=12,face="bold",color="black")) +
guides(colour = guide_legend(override.aes = list(size=3))) +
labs(x        = "",
y        = "Unemployment Rate",
title    = chartdate$title,
subtitle = "Unemployment rate by Race and Ethnicity",
caption  = "Source: Bureau of Labor Statistics, seasonally adjusted data.")
View(UNRATE)
UNRATE <- tq_get(c("LNS14000003",
"LNS14000006",
"LNS14000009"),
get  = "economic.data",
from = "1939-01-01" ) %>%
mutate(value = price/100)  %>%
filter(date > ymd("2023-01-01")) %>%
mutate(race = ifelse(symbol == "LNS14000003", "White",
ifelse(symbol == "LNS14000006", "Black or African American",
ifelse(symbol == "LNS14000009", "Hispanic", "NA")))) %>%
filter(!is.na(price))
chartdate <- UNRATE %>%
mutate(month_mindate = lubridate::month(min(date), label = TRUE, abbr = FALSE),
year_mindate  = lubridate::year(min(date)),
month_maxdate = lubridate::month(max(date), label = TRUE, abbr = FALSE),
year_maxdate  = lubridate::year(max(date))) %>%
filter(date == max(date)) %>%
mutate(title = paste0("Unemployment Rate, United States, ", month_mindate," ", year_mindate, " - ", month_maxdate," ", year_maxdate))
ggplot(data = UNRATE,
aes(x = date,
y = value,
group = symbol,
fill = race)) +
geom_bar(position="dodge", stat="identity") +
scale_color_discrete(name = "symbol",
breaks = c("LNS14000003", "LNS14000006", "LNS14000009"),
labels = c("White", "Black", "Hispanic")) +
scale_y_continuous(labels=scales::percent_format(a=1),
limits = c(0, 0.1)) +
facet_wrap(~race) +
theme_minimal()+
theme(legend.position="bottom",
legend.title = element_blank(),
legend.text = element_text(size = 10),
legend.box.margin = margin(c(-10,-10,0,-10)),
plot.caption=element_text(hjust=0),
plot.subtitle=element_text(size=12,face="italic",color="darkgray"),
plot.title=element_text(size=12,face="bold",color="black")) +
guides(colour = guide_legend(override.aes = list(size=3))) +
labs(x        = "",
y        = "Unemployment Rate",
title    = chartdate$title,
subtitle = "Unemployment rate by Race and Ethnicity",
caption  = "Source: Bureau of Labor Statistics, seasonally adjusted data.")
View(UNRATE)
ggplot(data = UNRATE,
aes(x = date,
y = value,
group = symbol,
fill = race)) +
geom_bar(position="dodge", stat="identity") +
scale_color_discrete(name = "symbol",
breaks = c("LNS14000003", "LNS14000006", "LNS14000009"),
labels = c("White", "Black", "Hispanic")) +
scale_y_continuous(labels=scales::percent_format(a=1),
limits = c(0, 0.1))
ggplot(data = UNRATE,
aes(x = date,
y = value,
group = symbol,
fill = race)) +
geom_bar(position="dodge", stat="identity") +
scale_color_discrete(name = "symbol",
breaks = c("LNS14000003", "LNS14000006", "LNS14000009"),
labels = c("White", "Black", "Hispanic")) +
scale_y_continuous(labels=scales::percent_format(a=1),
limits = c(0, 0.1)) +
facet_wrap(~race) +
theme_minimal()
ggplot(data = UNRATE,
aes(x = date,
y = value,
group = symbol,
fill = race)) +
geom_bar(position="dodge", stat="identity") +
scale_color_discrete(name = "symbol",
breaks = c("LNS14000003", "LNS14000006", "LNS14000009"),
labels = c("White", "Black", "Hispanic")) +
scale_y_continuous(labels=scales::percent_format(a=1),
limits = c(0, 0.1)) +
facet_wrap(~race) +
theme_minimal()+
theme(legend.position="bottom",
legend.title = element_blank(),
legend.text = element_text(size = 10),
legend.box.margin = margin(c(-10,-10,0,-10)),
plot.caption=element_text(hjust=0),
plot.subtitle=element_text(size=12,face="italic",color="darkgray"),
plot.title=element_text(size=12,face="bold",color="black")) +
guides(colour = guide_legend(override.aes = list(size=3)))
ggplot(data = UNRATE,
aes(x = date,
y = value,
group = symbol,
fill = race)) +
geom_bar(position="dodge", stat="identity") +
scale_color_discrete(name = "symbol",
breaks = c("LNS14000003", "LNS14000006", "LNS14000009"),
labels = c("White", "Black", "Hispanic")) +
scale_y_continuous(labels=scales::percent_format(a=1),
limits = c(0, 0.1)) +
facet_wrap(~race) +
theme_minimal()+
theme(legend.position="bottom",
legend.title = element_blank(),
legend.text = element_text(size = 10),
legend.box.margin = margin(c(-10)),
plot.caption=element_text(hjust=0),
plot.subtitle=element_text(size=12,face="italic",color="darkgray"),
plot.title=element_text(size=12,face="bold",color="black")) +
guides(colour = guide_legend(override.aes = list(size=3))) +
labs(x        = "",
y        = "Unemployment Rate",
title    = chartdate$title,
subtitle = "Unemployment rate by Race and Ethnicity",
caption  = "Source: Bureau of Labor Statistics, seasonally adjusted data.")
ggplot(data = UNRATE,
aes(x = date,
y = value,
group = symbol,
fill = race)) +
geom_bar(position="dodge", stat="identity") +
scale_color_discrete(name = "symbol",
breaks = c("LNS14000003", "LNS14000006", "LNS14000009"),
labels = c("White", "Black", "Hispanic")) +
scale_y_continuous(labels=scales::percent_format(a=1),
limits = c(0, 0.1)) +
facet_wrap(~race) +
theme_minimal()+
theme(legend.position="bottom",
legend.title = element_blank(),
legend.text = element_text(size = 10),
legend.box.margin = margin(c(-10, -10)),
plot.caption=element_text(hjust=0),
plot.subtitle=element_text(size=12,face="italic",color="darkgray"),
plot.title=element_text(size=12,face="bold",color="black")) +
guides(colour = guide_legend(override.aes = list(size=3))) +
labs(x        = "",
y        = "Unemployment Rate",
title    = chartdate$title,
subtitle = "Unemployment rate by Race and Ethnicity",
caption  = "Source: Bureau of Labor Statistics, seasonally adjusted data.")
ggplot(data = UNRATE,
aes(x = date,
y = value,
group = symbol,
fill = race)) +
geom_bar(position="dodge", stat="identity") +
scale_color_discrete(name = "symbol",
breaks = c("LNS14000003", "LNS14000006", "LNS14000009"),
labels = c("White", "Black", "Hispanic")) +
scale_y_continuous(labels=scales::percent_format(a=1),
limits = c(0, 0.1)) +
facet_wrap(~race) +
theme_minimal()+
theme(legend.position="bottom",
legend.title = element_blank(),
legend.text = element_text(size = 10),
legend.box.margin = margin(c(-10)),
axis.text.x = element_text(size = 8),
plot.caption=element_text(hjust=0),
plot.subtitle=element_text(size=12,face="italic",color="darkgray"),
plot.title=element_text(size=12,face="bold",color="black")) +
guides(colour = guide_legend(override.aes = list(size=3))) +
labs(x        = "",
y        = "Unemployment Rate",
title    = chartdate$title,
subtitle = "Unemployment rate by Race and Ethnicity",
caption  = "Source: Bureau of Labor Statistics, seasonally adjusted data.")
UNRATE <- tq_get(c("LNS14000003",
"LNS14000006",
"LNS14000009"),
get  = "economic.data",
from = "1939-01-01" ) %>%
mutate(value = price/100)  %>%
filter(date > ymd("2023-01-01")) %>%
mutate(race = ifelse(symbol == "LNS14000003", "White",
ifelse(symbol == "LNS14000006", "Black or African American",
ifelse(symbol == "LNS14000009", "Hispanic", "NA")))) %>%
filter(!is.na(price))
chartdate <- UNRATE %>%
mutate(month_mindate = lubridate::month(min(date), label = TRUE, abbr = FALSE),
year_mindate  = lubridate::year(min(date)),
month_maxdate = lubridate::month(max(date), label = TRUE, abbr = FALSE),
year_maxdate  = lubridate::year(max(date))) %>%
filter(date == max(date)) %>%
mutate(title = paste0("Unemployment Rate, United States, ", month_mindate," ", year_mindate, " - ", month_maxdate," ", year_maxdate))
ggplot(data = UNRATE,
aes(x = date,
y = value,
group = symbol,
fill = race)) +
geom_bar(position="dodge", stat="identity") +
scale_color_discrete(name = "symbol",
breaks = c("LNS14000003", "LNS14000006", "LNS14000009"),
labels = c("White", "Black", "Hispanic")) +
scale_y_continuous(labels=scales::percent_format(a=1),
limits = c(0, 0.1)) +
facet_wrap(~race) +
theme_minimal()+
theme(legend.position="bottom",
legend.title = element_blank(),
legend.text = element_text(size = 10),
legend.box.margin = margin(c(-10)),
axis.text.x = element_text(size = 5),
plot.caption=element_text(hjust=0),
plot.subtitle=element_text(size=12,face="italic",color="darkgray"),
plot.title=element_text(size=12,face="bold",color="black")) +
guides(colour = guide_legend(override.aes = list(size=3))) +
labs(x        = "",
y        = "Unemployment Rate",
title    = chartdate$title,
subtitle = "Unemployment rate by Race and Ethnicity",
caption  = "Source: Bureau of Labor Statistics, seasonally adjusted data.")
ggplot(data = UNRATE,
aes(x = date,
y = value,
group = symbol,
fill = race)) +
geom_bar(position="dodge", stat="identity") +
scale_color_discrete(name = "symbol",
breaks = c("LNS14000003", "LNS14000006", "LNS14000009"),
labels = c("White", "Black", "Hispanic")) +
scale_y_continuous(labels=scales::percent_format(a=1),
limits = c(0, 0.1)) +
facet_wrap(~race) +
theme_minimal()+
theme(legend.position="bottom",
legend.title = element_blank(),
legend.text = element_text(size = 10),
legend.box.margin = margin(c(-10)),
axis.text.x = element_text(size = 5, angle = 90),
plot.caption=element_text(hjust=0),
plot.subtitle=element_text(size=12,face="italic",color="darkgray"),
plot.title=element_text(size=12,face="bold",color="black")) +
guides(colour = guide_legend(override.aes = list(size=3))) +
labs(x        = "",
y        = "Unemployment Rate",
title    = chartdate$title,
subtitle = "Unemployment rate by Race and Ethnicity",
caption  = "Source: Bureau of Labor Statistics, seasonally adjusted data.")
ggplot(data = UNRATE,
aes(x = date,
y = value,
group = symbol,
fill = race)) +
geom_bar(position="dodge", stat="identity") +
scale_color_discrete(name = "symbol",
breaks = c("LNS14000003", "LNS14000006", "LNS14000009"),
labels = c("White", "Black", "Hispanic")) +
scale_y_continuous(labels=scales::percent_format(a=1),
limits = c(0, 0.1)) +
facet_wrap(~race) +
theme_minimal()+
theme(legend.position="bottom",
legend.title = element_blank(),
legend.text = element_text(size = 10),
legend.box.margin = margin(c(-10)),
axis.text.x = element_text(size = 5, angle = 90, vjust = 0.5, hjust = 1),
plot.caption=element_text(hjust=0),
plot.subtitle=element_text(size=12,face="italic",color="darkgray"),
plot.title=element_text(size=12,face="bold",color="black")) +
guides(colour = guide_legend(override.aes = list(size=3))) +
labs(x        = "",
y        = "Unemployment Rate",
title    = chartdate$title,
subtitle = "Unemployment rate by Race and Ethnicity",
caption  = "Source: Bureau of Labor Statistics, seasonally adjusted data.")
quarto::quarto_render()
